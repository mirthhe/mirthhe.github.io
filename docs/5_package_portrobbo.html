<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 R package | bookdown_site.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 R package | bookdown_site.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 R package | bookdown_site.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="4_SQL.html"/>
<link rel="next" href="6_Reproducibility.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/r3dmol-1.6.2/3Dmol-nojquery-min.js"></script>
<script src="libs/r3dmol-binding-0.1.2/r3dmol.js"></script>
<script src="libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="trial.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><h3 class=".paddingtitel ">Portfolio of Mirthe Klaassen</h3></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Curriculum Vitae</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contact"><i class="fa fa-check"></i>Contact</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#profile"><i class="fa fa-check"></i>Profile</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#job-experience"><i class="fa fa-check"></i>Job experience</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#education"><i class="fa fa-check"></i>Education</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#skills"><i class="fa fa-check"></i>Skills</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#volunteering"><i class="fa fa-check"></i>Volunteering</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#languages"><i class="fa fa-check"></i>Languages</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="1_CurrentProjects.html"><a href="1_CurrentProjects.html"><i class="fa fa-check"></i><b>1</b> Current work</a>
<ul>
<li class="chapter" data-level="" data-path="1_CurrentProjects.html"><a href="1_CurrentProjects.html#progress"><i class="fa fa-check"></i>Progress</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2_SBtab.html"><a href="2_SBtab.html"><i class="fa fa-check"></i><b>2</b> SBtabr package</a></li>
<li class="chapter" data-level="3" data-path="3_3D_visualizations.html"><a href="3_3D_visualizations.html"><i class="fa fa-check"></i><b>3</b> Protein structures in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="3_3D_visualizations.html"><a href="3_3D_visualizations.html#protein-structure-data"><i class="fa fa-check"></i><b>3.1</b> Protein structure data</a></li>
<li class="chapter" data-level="3.2" data-path="3_3D_visualizations.html"><a href="3_3D_visualizations.html#visualization-methods"><i class="fa fa-check"></i><b>3.2</b> Visualization methods</a></li>
<li class="chapter" data-level="3.3" data-path="3_3D_visualizations.html"><a href="3_3D_visualizations.html#applying-in-r"><i class="fa fa-check"></i><b>3.3</b> Applying in R</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="3_3D_visualizations.html"><a href="3_3D_visualizations.html#cartoon-visual"><i class="fa fa-check"></i><b>3.3.1</b> Cartoon visual</a></li>
<li class="chapter" data-level="3.3.2" data-path="3_3D_visualizations.html"><a href="3_3D_visualizations.html#sphere-and-sticks-visual"><i class="fa fa-check"></i><b>3.3.2</b> Sphere and sticks visual</a></li>
<li class="chapter" data-level="3.3.3" data-path="3_3D_visualizations.html"><a href="3_3D_visualizations.html#combining-styles"><i class="fa fa-check"></i><b>3.3.3</b> Combining styles</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3_3D_visualizations.html"><a href="3_3D_visualizations.html#looking-forward"><i class="fa fa-check"></i><b>3.4</b> Looking forward</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4_SQL.html"><a href="4_SQL.html"><i class="fa fa-check"></i><b>4</b> SQL and relational data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="4_SQL.html"><a href="4_SQL.html#connecting-to-dbeaver"><i class="fa fa-check"></i><b>4.1</b> Connecting to DBeaver</a></li>
<li class="chapter" data-level="4.2" data-path="4_SQL.html"><a href="4_SQL.html#data-inspection"><i class="fa fa-check"></i><b>4.2</b> Data inspection</a></li>
<li class="chapter" data-level="4.3" data-path="4_SQL.html"><a href="4_SQL.html#joining-datasets"><i class="fa fa-check"></i><b>4.3</b> Joining datasets</a></li>
<li class="chapter" data-level="4.4" data-path="4_SQL.html"><a href="4_SQL.html#descriptive-statistics"><i class="fa fa-check"></i><b>4.4</b> Descriptive statistics</a></li>
<li class="chapter" data-level="4.5" data-path="4_SQL.html"><a href="4_SQL.html#visualizations"><i class="fa fa-check"></i><b>4.5</b> Visualizations</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="4_SQL.html"><a href="4_SQL.html#dengue-cases"><i class="fa fa-check"></i><b>4.5.1</b> Dengue cases</a></li>
<li class="chapter" data-level="4.5.2" data-path="4_SQL.html"><a href="4_SQL.html#flu-cases"><i class="fa fa-check"></i><b>4.5.2</b> Flu cases</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5_package_portrobbo.html"><a href="5_package_portrobbo.html"><i class="fa fa-check"></i><b>5</b> R package</a>
<ul>
<li class="chapter" data-level="5.1" data-path="5_package_portrobbo.html"><a href="5_package_portrobbo.html#the-demo"><i class="fa fa-check"></i><b>5.1</b> The Demo</a></li>
<li class="chapter" data-level="5.2" data-path="5_package_portrobbo.html"><a href="5_package_portrobbo.html#rmarkdown-driven-development"><i class="fa fa-check"></i><b>5.2</b> RMarkdown driven development</a></li>
<li class="chapter" data-level="5.3" data-path="5_package_portrobbo.html"><a href="5_package_portrobbo.html#package-portrobbo"><i class="fa fa-check"></i><b>5.3</b> Package “portrobbo”</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="5_package_portrobbo.html"><a href="5_package_portrobbo.html#picking-a-name"><i class="fa fa-check"></i><b>5.3.1</b> Picking a name</a></li>
<li class="chapter" data-level="5.3.2" data-path="5_package_portrobbo.html"><a href="5_package_portrobbo.html#an-overview"><i class="fa fa-check"></i><b>5.3.2</b> An overview</a></li>
<li class="chapter" data-level="5.3.3" data-path="5_package_portrobbo.html"><a href="5_package_portrobbo.html#uniq_val"><i class="fa fa-check"></i><b>5.3.3</b> uniq_val</a></li>
<li class="chapter" data-level="5.3.4" data-path="5_package_portrobbo.html"><a href="5_package_portrobbo.html#save_csv_rds"><i class="fa fa-check"></i><b>5.3.4</b> save_csv_rds</a></li>
<li class="chapter" data-level="5.3.5" data-path="5_package_portrobbo.html"><a href="5_package_portrobbo.html#graph_jitter"><i class="fa fa-check"></i><b>5.3.5</b> graph_jitter</a></li>
<li class="chapter" data-level="5.3.6" data-path="5_package_portrobbo.html"><a href="5_package_portrobbo.html#protein-visualization-functions"><i class="fa fa-check"></i><b>5.3.6</b> Protein visualization functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html"><i class="fa fa-check"></i><b>6</b> Reproducible Research</a>
<ul>
<li class="chapter" data-level="6.1" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#excels-downsides"><i class="fa fa-check"></i><b>6.1</b> Excel’s downsides</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#inspecting-an-excel-file"><i class="fa fa-check"></i><b>6.1.1</b> Inspecting an Excel file</a></li>
<li class="chapter" data-level="6.1.2" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#creating-the-scatterplot"><i class="fa fa-check"></i><b>6.1.2</b> Creating the scatterplot</a></li>
<li class="chapter" data-level="6.1.3" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#normalize-for-the-negative-control"><i class="fa fa-check"></i><b>6.1.3</b> Normalize for the negative control</a></li>
<li class="chapter" data-level="6.1.4" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#statistical-analysis"><i class="fa fa-check"></i><b>6.1.4</b> Statistical analysis</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#repita-criteria"><i class="fa fa-check"></i><b>6.2</b> Repita criteria</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#criteria-for-reproducibility"><i class="fa fa-check"></i><b>6.2.1</b> Criteria for reproducibility</a></li>
<li class="chapter" data-level="6.2.2" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#the-article"><i class="fa fa-check"></i><b>6.2.2</b> The article</a></li>
<li class="chapter" data-level="6.2.3" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#the-reproducibility"><i class="fa fa-check"></i><b>6.2.3</b> The reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#open-source-code"><i class="fa fa-check"></i><b>6.3</b> Open source code</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#the-article-1"><i class="fa fa-check"></i><b>6.3.1</b> The article</a></li>
<li class="chapter" data-level="6.3.2" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#the-code"><i class="fa fa-check"></i><b>6.3.2</b> The code</a></li>
<li class="chapter" data-level="6.3.3" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#excuting-the-code"><i class="fa fa-check"></i><b>6.3.3</b> Excuting the code</a></li>
<li class="chapter" data-level="6.3.4" data-path="6_Reproducibility.html"><a href="6_Reproducibility.html#effort-scoring"><i class="fa fa-check"></i><b>6.3.4</b> Effort scoring</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7_parameters.html"><a href="7_parameters.html"><i class="fa fa-check"></i><b>7</b> Parameters</a>
<ul>
<li class="chapter" data-level="7.1" data-path="7_parameters.html"><a href="7_parameters.html#inspecting-the-data"><i class="fa fa-check"></i><b>7.1</b> Inspecting the data</a></li>
<li class="chapter" data-level="7.2" data-path="7_parameters.html"><a href="7_parameters.html#creating-the-graphs"><i class="fa fa-check"></i><b>7.2</b> Creating the graphs</a></li>
<li class="chapter" data-level="7.3" data-path="7_parameters.html"><a href="7_parameters.html#checking-parameters"><i class="fa fa-check"></i><b>7.3</b> Checking parameters</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="8_References.html"><a href="8_References.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="package" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> R package</h1>
<p><em>As part of assignment 8 from the <a href="https://lesmaterialen.rstudio.hu.nl/workflows-reader/rpackages.html">DSFB2 Workflows course</a>.</em></p>
<hr />
<p>For this assignment the previous assignments will be analysed to check for any repetitive code. This code will be turned into functions, combined into my first R package.</p>
<hr />
<div id="the-demo" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> The Demo</h2>
<p>The <a href="https://r-pkgs.org/whole-game.html">Whole Game demo</a> made by Hadley Wickham was followed to start creating the R package. This demo was a complete guide through setting up the package, connecting it to Git and writing the first function. It went over useful packages like roxygen2 and testthat. A short summary of packages and functions was made based on what I learned in the demo for later use.</p>
<details>
<summary>
<i>R package building cheatsheet</i>
</summary>
<p><b>Important libraries:</b><br>
library(devtools)<br>
library(usethis)<br>
library(roxygen2)<br>
library(testthat)<br></p>
<b>How roxygen2 works:</b>
<ol>
<li>
Put cursor in function
</li>
<li>
Code -&gt; insert roxygen skeleton/li&gt;&gt;
<li>
Fill in necessary details
</li>
</ol>
<p><b>Important functions:</b><br>
create_package(“~/path/to/package/packaganame”)<br>
– Creates package</p>
<p>use_git()<br>
– Connects to git</p>
<p>use_r(“filename”)<br>
– Opens/creates script in R/</p>
<p>load_all()<br>
– Loads all functions without using globalenv</p>
<p>exists(“function”, where = globalenv(), inherits = FALSE)<br>
– Checks if function exists in globalenv</p>
<p>check()<br>
– Checks entire package for errors/warnings/notes</p>
<p>use_mit_license()<br>
– Sets license to MIT</p>
<p>document()<br>
– Creates/updates the manuals in man/ based on roxygen<br>
– Updates the NAMESPACE file</p>
<p>install()<br>
– Installs the package</p>
<p>use_testthat()<br>
– Declares our intent to write tests<br>
– Creates test directories</p>
<p>use_test(“functionname”)<br>
– Opens/create a testfile</p>
<p>test()<br>
– Performs all tests</p>
<p>use_package(“packagename”)<br>
– Add a package to import in DESCRIPTION</p>
<p>rename_files(“oldname”, “newname”)<br>
– Rename files</p>
<p>use_readme_rmd()<br>
– Writes README template<br>
– Adds readme to the ignore file</p>
build_readme()<br>
– Updates the readme.md file based on the readme.rmd
</details>
<hr />
</div>
<div id="rmarkdown-driven-development" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> RMarkdown driven development</h2>
<p>In the Workflows course the use of “Start with RMarkdown” was emphasized. This style of creating an R package does not start from zero like the demo suggested. It is based on a pre-written RMarkdown and the scripts that came with it.</p>
<p>There are a lot of advantages to creating a complete all-in-one package when sharing a RMarkdown based analysis for others to reproduce. Usually, this sharing happens through an RMarkdown, some functions, the tidy version of the data, the steps used to get it tidy, the analysis itself and the used packages. These are multiple separate elements for someone to go over before they can reproduce the analysis. It can be made a lot more efficient by taking a few extra steps to create an R package from the RMarkdown. This way the elements are combined in one unit which is easily shared and can be used for multiple purposes and on different datasets.</p>
<hr />
</div>
<div id="package-portrobbo" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Package “portrobbo”</h2>
<p>For this assignment we were asked to create a package which supports our portfolio. This will make the RMarkdowns more fluid and reduce duplicated code. It can also be used for later analysis.</p>
<div id="picking-a-name" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Picking a name</h3>
<p>To find an available but still meaningful name I wanted to combine the word ‘portfolio’ with my partner’s name. My partner happens to work on ships so the name portrobbo (combining the words ‘portfolio’, ‘port’ and his name) came to mind. After checking the availability I decided to use that as the name for my first R package. After setting up the project for the package and the <a href="https://github.com/mirthhe/portrobbo">github repository</a> it was ready for it’s first function.</p>
</div>
<div id="an-overview" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> An overview</h3>
The package currently contains the following functions:
<ul>
<li>
uniq_val
</li>
<li>
save_csv_rds
</li>
<li>
graph_jitter
</li>
<li>
protein visualizations:
<ul>
<li>
protein_cartoon
</li>
<li>
protein_sphere
</li>
<li>
protein_stick
</li>
<li>
protein_visual
</li>
</ul>
</ul>
<p>The package also contains two data objects:</p>
<p><a href="https://github.com/mirthhe/portrobbo/blob/main/data/covid19.rda">COVID19</a>, a dataframe containing COVID19 cases and deaths in multiple European countries. The data came from the <a href="https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide">ECDC</a>. It was imported using <a href="https://github.com/mirthhe/portrobbo/blob/main/data-raw/covid19.R">this code</a> and is used to show the functionality of uniq_val(), save_csv_rds() and graph_jitter().</p>
<p><a href="https://github.com/mirthhe/portrobbo/blob/main/data/kinesin.rda">Kinesin</a>, an R object containing the PDBx file 3COB. The <a href="https://github.com/mirthhe/portrobbo/blob/main/data-raw/3cob.pdb">data</a> came from the <a href="https://www.rcsb.org/structure/3COB">RCSB PDB</a>. It was imported using <a href="https://github.com/mirthhe/portrobbo/blob/main/data-raw/kinesin.R">this code</a> and is used to show the functionality of the protein visualizing functions.</p>
</div>
<div id="uniq_val" class="section level3" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> uniq_val</h3>
<p>The first function focuses on the data inspection. When working with a big dataset it can be used to check the amount of unique values within a column. For example, in chapter 7 we look at the dataset COVID19. The dataset has 28729 observations. Since there are multiple observations per country it is important to know how many countries are looked at. This is where uniq_val() comes in. The only input for the function is the column of which the amount of unique values should be checked. It’s use can be seen in <a href="Workflows_Portfolio_9.html">chapter 7</a> or in the code chunk below.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="5_package_portrobbo.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The column with the names of the countries is countriesAndTerritories</span></span>
<span id="cb32-2"><a href="5_package_portrobbo.html#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">uniq_val</span>(covid19<span class="sc">$</span>countriesAndTerritories)</span></code></pre></div>
<p>The 28729 observations are divided over 30 different countries. Good to know! There are other columns, also indicating a country or region. uniq_val() can also be used to check if those other columns show the same amount of unique values, by doing the following.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="5_package_portrobbo.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Another column indicating the country is geoId</span></span>
<span id="cb33-2"><a href="5_package_portrobbo.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">uniq_val</span>(covid19<span class="sc">$</span>countriesAndTerritories) <span class="sc">==</span> <span class="fu">uniq_val</span>(covid19<span class="sc">$</span>geoId)</span></code></pre></div>
</div>
<div id="save_csv_rds" class="section level3" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> save_csv_rds</h3>
<p>After inspecting the data you might have made a few changes in the R object, like making it tidy or extracting data that is the most useful as shown in the following code.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="5_package_portrobbo.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s say we only want the data of summer 2020 for the Germany and France</span></span>
<span id="cb34-2"><a href="5_package_portrobbo.html#cb34-2" aria-hidden="true" tabindex="-1"></a>covid19_2020 <span class="ot">&lt;-</span> covid19 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(countriesAndTerritories <span class="sc">==</span> </span>
<span id="cb34-3"><a href="5_package_portrobbo.html#cb34-3" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">c</span>(<span class="st">&quot;Germany&quot;</span>, <span class="st">&quot;France&quot;</span>), </span>
<span id="cb34-4"><a href="5_package_portrobbo.html#cb34-4" aria-hidden="true" tabindex="-1"></a>                                   year <span class="sc">==</span> <span class="dv">2020</span>, month <span class="sc">==</span> <span class="fu">c</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">8</span>))</span>
<span id="cb34-5"><a href="5_package_portrobbo.html#cb34-5" aria-hidden="true" tabindex="-1"></a>covid19_2020<span class="sc">$</span>dateRep <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(covid19_2020<span class="sc">$</span>dateRep, <span class="st">&quot;%d/%m/%y&quot;</span>)</span></code></pre></div>
<p>It is important to save your changes for later reference. A good way to do that is by using the save_csv_rds() function. This saves your dataframe as both a .csv and .rds file and uses the dataframe and an outputname as inputs. It’s use can be seen in <a href="Workflows_Portfolio_7.html">chapter 5</a> or in the code chunk below.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="5_package_portrobbo.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In this case we want the outputname to be the same as the dataframe name</span></span>
<span id="cb35-2"><a href="5_package_portrobbo.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">save_csv_rds</span>(covid19_2020, <span class="st">&quot;covid19_2020&quot;</span>)</span></code></pre></div>
</div>
<div id="graph_jitter" class="section level3" number="5.3.5">
<h3><span class="header-section-number">5.3.5</span> graph_jitter</h3>
<p>With the data inspected, extracted and saved, graphs can be made. The ggplot2 package contains all the necessary functions to make a graph. It’s functions have a lot of different input options for a lot of different graphs. This means the code for a simple graph can become quite long. This is where graph_jitter() comes in. The ggplot2 function position_jitter() uses multiple inputs to create a slight jitter to the datapoints. This is useful when data overlap makes the graph hard to read. The graph_jitter() function simplifies this function by only needing one input which will work for both the height and width of the jitter. It also sets the seed to keep jitter consistent throughout the analysis. In the following code chunk the use of graph_jitter() is shown.</p>

<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="5_package_portrobbo.html#cb36-1" aria-hidden="true" tabindex="-1"></a>covid19_2020 <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> dateRep, <span class="at">y =</span> deaths)) <span class="sc">+</span></span>
<span id="cb36-2"><a href="5_package_portrobbo.html#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group=</span>countriesAndTerritories, <span class="at">color =</span> countriesAndTerritories)) <span class="sc">+</span></span>
<span id="cb36-3"><a href="5_package_portrobbo.html#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> countriesAndTerritories), <span class="at">position =</span> <span class="fu">graph_jitter</span>(<span class="fl">0.3</span>)) <span class="sc">+</span></span>
<span id="cb36-4"><a href="5_package_portrobbo.html#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;COVID19 in summer of 2020&quot;</span>,</span>
<span id="cb36-5"><a href="5_package_portrobbo.html#cb36-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb36-6"><a href="5_package_portrobbo.html#cb36-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;COVID19 related deaths&quot;</span>) <span class="sc">+</span></span>
<span id="cb36-7"><a href="5_package_portrobbo.html#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:graphjitter"></span>
<img src="bookdown_site_files/figure-html/graphjitter-1.png" alt="Scatterplot showing the COVID19 related deaths in summer of 2020 in Germany and France." width="672" />
<p class="caption">
Figure 5.1: Scatterplot showing the COVID19 related deaths in summer of 2020 in Germany and France.
</p>
</div>
</div>
<div id="protein-visualization-functions" class="section level3" number="5.3.6">
<h3><span class="header-section-number">5.3.6</span> Protein visualization functions</h3>
<p>The last four functions use the <a href="https://github.com/swsoyee/r3dmol">r3dmol</a> package to create 3D interactive visualizations of proteins. Each function shows a different style of visualization. They have been made to support the free assignment and their use can be seen in <a href="Workflows_Portfolio_Free.html#applying-in-r">chapter 8</a>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="4_SQL.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="6_Reproducibility.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mirthhe/mirthhe.github.io/edit/main/5_package_portrobbo.Rmd",
"text": "Share your feedback"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown_site.pdf", "bookdown_site.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
